// Table of Contents
// ==================================================
// Reset
// Table
// Styles
// Decorations
// Colors
// Alignments
// Media Queries

// scss-lint:disable NestingDepth
// scss-lint:disable SelectorDepth

// Reset
// ==================================================
table {
  background: color(trasparent);
  border-collapse: collapse;
  border-color: color(haze);
  border-spacing: 0;
}
caption,
thead,
tfoot { font-weight: text-weight(semibold); }
caption,
td,
th {
  padding: 8px;
  vertical-align: middle;
}
thead {
  tr:not(:last-child) {
    th { text-align: center; }
  }
  th {
    &.sort { cursor: pointer; }
  }
}

// Table
// ==================================================
.table { width: 100%; }

// Styles
// ==================================================
.table-stripe {
  tbody {
    tr:nth-child(odd) {
      td { background: color(light-haze); }
    }
  }

  &.dark {
    tbody {
      tr:nth-child(odd) {
        td { background: color(light-slate); }
      }
    }
  }
  &.light {
    tbody {
      tr:nth-child(odd) {
        td { background: color(haze); }
      }
    }
  }
}
@if ($pseudo-elements) {
  .table-hover {
    tbody {
      tr:hover {
        td { background: background-hover-color(light-haze); }
      }
    }

    &.dark {
      tbody {
        tr:hover {
          td { background: background-hover-color(slate); }
        }
      }
    }
    &.light {
      tbody {
        tr:hover {
          td { background: background-hover-color(haze); }
        }
      }
    }
  }
  .table-highlight {
    tbody {
      tr {
        td:hover { background: background-hover-color(light-haze); }
      }
    }

    &.dark {
      tbody {
        tr {
          td:hover { background: background-hover-color(slate); }
        }
      }
    }
    &.light {
      tbody {
        tr {
          td:hover { background: background-hover-color(haze); }
        }
      }
    }
  }
}
.table-scroll {
  max-height: 300px;
  overflow-y: auto;
}

// Decorations
// ==================================================
.table-line,
.table-encase,
.table-border {
  border-collapse: separate;

  td,
  th {
    border-top-style: solid;
    border-top-width: 1px;
  }
  thead + tbody,
  tbody + tfoot {
    tr:first-child {
      td { border-top-width: 3px; }
    }
  }
}
.table-encase,
.table-border {
  border-radius: border-radius(b);
  border-style: solid;
  border-width: 1px;

  thead {
    tr:first-child {
      th { border-top-width: 0; }
    }
  }
  tbody {
    tr:first-child {
      td { border-top-width: 0; }
    }

    + tbody {
      tr:first-child {
        td { border-top-width: 3px; }
      }
    }
  }
  tr {
    td:first-child,
    th:first-child { border-left-width: 0; }
  }

  &.dark { border-color: color(dark-slate); }
}
.table-line {
  tbody,
  tfoot {
    tr:last-child {
      td {
        border-bottom-style: solid;
        border-bottom-width: 1px;
      }
    }
  }
  tbody {
    + tbody,
    + tfoot {
      tr:first-child {
        td { border-top-width: 2px; }
      }
    }
  }
}
.table-border {
  td,
  th {
    border-left-style: solid;
    border-left-width: 1px;
  }
}

// Colors
// ==================================================
@each $name, $color in $colors {
  .table-row-color-#{$name} {
    td {
      background: tint($name, 87.5%);
      color: color($name);
    }
  }
}
.table-hover {
  tbody {
    @each $name, $color in $colors {
      tr.table-row-color-#{$name}:hover {
        td { background: tint($name, 82.5%); }
      }
    }
  }
}

// Alignments
// ==================================================
@each $name in bottom, middle, top {
  .table-vertical-align-#{$name} {
    td,
    th { vertical-align: $name; }
  }
}

// Media Queries
// ==================================================
@media only screen and (max-width: breakpoint-max-width(b)) {
  .table-responsive {
    @include overflow-scrolling(touch);
    background: color(transparent);
    border: 1px solid color(haze);
    border-radius: border-radius(b);
    max-height: 300px;
    overflow: scroll;

    &.dark { border-color: color(dark-slate); }

    td,
    th { white-space: nowrap; }
    tr {
      td:first-child,
      th:first-child { border-left-width: 0; }
    }
    tfoot {
      tr:last-child {
        td:last-child { border-bottom-width: 0; }
      }
    }

    .table-line,
    .table-encase,
    .table-border {
      caption {
        border-bottom-style: solid;
        border-bottom-width: 3px;
      }
    }
    .table-line {
      border-left: 1px solid;
      border-right: 1px solid;
      border-color: inherit;
    }
    .table-encase,
    .table-border {
      border-radius: 0;
      border-width: 0;
    }
  }
}
